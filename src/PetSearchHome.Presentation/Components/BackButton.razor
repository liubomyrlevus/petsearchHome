@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager

<button type="button"
        class="back-button @CssClass"
        @onclick="GoBack"
        @attributes="AdditionalAttributes">
    <span class="back-icon" aria-hidden="true">&#8592;</span>
    <span class="back-text">@Text</span>
</button>

@code {
    [Parameter]
    public string Text { get; set; } = "Назад";

    [Parameter]
    public string? FallbackUrl { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object> AdditionalAttributes { get; set; } = new();

    [Parameter]
    public string? CssClass { get; set; }

    private async Task GoBack()
    {
        var fallback = string.IsNullOrWhiteSpace(FallbackUrl) ? "/home" : FallbackUrl;
        await JSRuntime.InvokeVoidAsync("petSearchHome.goBack", fallback);
    }
}
